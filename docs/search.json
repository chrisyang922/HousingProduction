[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Affordable Housing Production by Building",
    "section": "",
    "text": "1 Introduction\nFinding affordable housing is a crucial factor when it comes to living in New York City, where the population density is high, real estate prices continue to rise, and income inequality persists. As graduate students living in NYC, we have firsthand experience of the challenges posed by the city’s housing market. We have faced difficulties in finding suitable housing and settling down in this vibrant but expensive city. These experiences have allowed us to appreciate the importance of understanding how affordable housing initiatives shaped the lives of residents and contribute to the city’s socioeconomic dynamic. Access to affordable housing is not only a matter of financial stability but also an important aspect of urban equity as well as a key factor to fostering a community’s well-being. This project allows us to explore this issue through data analysis, leveraging a dataset from the Department of Housing Preservation and Development (HPD). We aim to find trends, disparities, and provide insights in affordable housing development across NYC and hope to contribute to a broader understanding of NYC’s housing landscape and its implications.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "2  Data",
    "section": "",
    "text": "2.1 Description\nThe project aims to analyze affordable housing units in NYC. The dataset originates from The Department of Housing Preservation and Development (HPD), a department of the government of NYC dedicated to ensuring quality and affordable housing while sustaining neighborhood strength and diversity.\nThe dataset can be easily accessed by downloading the CSV file from https://data.cityofnewyork.us/Housing-Development/Affordable-Housing-Production-by-Building/hg8x-zxpr/about_data, which can be directed via the NYC Housing Preservation & Development government website (https://www.nyc.gov/site/hpd/about/open-data.page).\nThe dataset was compiled by HPD using various methods, including wage information for housing development projects as mandated by Local Law 44, registration details from owners of residential rental properties, and survey data from housing units across the city. It consists of 41 columns and 7,637 rows, with each row representing details of a housing development or preservation project. According to the HPD, the dataset was first published to the public on December 20, 2016. It undergoes quarterly updates and the most recent update occurred on September 23, 2024.\nOne notable issue with the dataset is that some entries in the Project Completion Date column remain empty, indicating that the project is still ongoing. Therefore, it is necessary to manually input NA values to these empty entries.\nCode\ncolnames(data)\n\n\n [1] \"Project.ID\"                         \"Project.Name\"                      \n [3] \"Project.Start.Date\"                 \"Project.Completion.Date\"           \n [5] \"Building.ID\"                        \"Number\"                            \n [7] \"Street\"                             \"Borough\"                           \n [9] \"Postcode\"                           \"BBL\"                               \n[11] \"BIN\"                                \"Community.Board\"                   \n[13] \"Council.District\"                   \"Census.Tract\"                      \n[15] \"NTA...Neighborhood.Tabulation.Area\" \"Latitude\"                          \n[17] \"Longitude\"                          \"Latitude..Internal.\"               \n[19] \"Longitude..Internal.\"               \"Building.Completion.Date\"          \n[21] \"Reporting.Construction.Type\"        \"Extended.Affordability.Only\"       \n[23] \"Prevailing.Wage.Status\"             \"Extremely.Low.Income.Units\"        \n[25] \"Very.Low.Income.Units\"              \"Low.Income.Units\"                  \n[27] \"Moderate.Income.Units\"              \"Middle.Income.Units\"               \n[29] \"Other.Income.Units\"                 \"Studio.Units\"                      \n[31] \"X1.BR.Units\"                        \"X2.BR.Units\"                       \n[33] \"X3.BR.Units\"                        \"X4.BR.Units\"                       \n[35] \"X5.BR.Units\"                        \"X6.BR..Units\"                      \n[37] \"Unknown.BR.Units\"                   \"Counted.Rental.Units\"              \n[39] \"Counted.Homeownership.Units\"        \"All.Counted.Units\"                 \n[41] \"Total.Units\"\nData Explanation\nThis project does not require every column from the dataset, as its focus is on analyzing affordable housing units in NYC. Outlined below are the selected columns from the dataset that may be utilized for the project.\nData: Affordable Housing Production by Building",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#description",
    "href": "data.html#description",
    "title": "2  Data",
    "section": "",
    "text": "Project.ID: unique numeric identifier assigned to each project by HPD.\nProject Start Date: date of the project loan or agreement closing.\nProject Completion Date: date that the last building in the project was completed. If the project has not yet completed, then the field is blank.\nBorough: borough where the building is located.\nCommunity Board: the New York City Community District where the building is located.\nReporting.Construction.Type: indicates whether the building is categorized as ‘new construction’ or ‘preservation’ in Housing New York statistics.\nExtremely Low Income Units: units with rents that are affordable to households earning 0 to 30% of the area median income\nVery Low Income Units: units with rents that are affordable to households earning 31 to 50% of the area median income\nLow Income Units: units with rents that are affordable to households earning 51 to 80% of the area median income\nModerate Income Units: units with rents that are affordable to households earning 81 to 120% of the area median income\nMiddle Income Units: units with rents that are affordable to households earning 121 to 165% of the area median income\nOther Income Units: units reserved for building superintendents\nStudio Units: units with 0-bedrooms.\n1-BR Units: units with 1-bedroom.\n2-BR Units: units with 2-bedrooms.\n3-BR Units: units with 3-bedrooms.\n4-BR Units: units with 4-bedrooms.\n5-BR Units: units with 5-bedrooms.\n6-BR+ Units: units with 6-bedrooms or more.\nCounted Rental Units: units in the building, counted toward the Housing New York plan, where assistance has been provided to landlords in exchange for a requirement for affordable units.\nCounted Homeownership Units: units in the building, counted toward the Housing New York Plan, where assistance has been provided directly to homeowners.\nTotal Units: total number of units, affordable and market rate, in each building.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Data",
    "section": "2.2 Missing value analysis",
    "text": "2.2 Missing value analysis\nTo examine patterns in missing values, we begin by determining the count of NAs in each column.\n\n\nCode\nNA_per_column &lt;- colSums(is.na(data)) |&gt; sort(decreasing = TRUE)\nNA_per_column\n\n\n    Project.Completion.Date                  Project.ID \n                       1633                           0 \n         Project.Start.Date                     Borough \n                          0                           0 \n            Community.Board  Extremely.Low.Income.Units \n                          0                           0 \nReporting.Construction.Type       Very.Low.Income.Units \n                          0                           0 \n           Low.Income.Units       Moderate.Income.Units \n                          0                           0 \n        Middle.Income.Units          Other.Income.Units \n                          0                           0 \n               Studio.Units                 X1.BR.Units \n                          0                           0 \n                X2.BR.Units                 X3.BR.Units \n                          0                           0 \n                X4.BR.Units                 X5.BR.Units \n                          0                           0 \n               X6.BR..Units        Counted.Rental.Units \n                          0                           0 \nCounted.Homeownership.Units                 Total.Units \n                          0                           0 \n\n\nThe Project.Completion.Date column has 1,633 missing entries.\n\n\nCode\nx &lt;- missing_data.frame(data)\nclass(x)\n\n\n[1] \"missing_data.frame\"\nattr(,\"package\")\n[1] \"mi\"\n\n\n\n\nCode\nlevels(x@patterns)\n\n\n[1] \"nothing\"                 \"Project.Completion.Date\"\n\n\n\n\nCode\nsummary(x@patterns)\n\n\n                nothing Project.Completion.Date \n                   6004                    1633 \n\n\n\n\nCode\nimage(x)\n\n\n\n\n\n\n\n\n\nTo uncover potential patterns among these NAs, we analyzed the data and plotted a heatmap of them by utilizing the “mi” package, which is particularly useful for datasets with a large number of rows.\nThe dark areas of the figure represent missing values. The figure does not suggest a possible pattern related to data collection issues since there is only one column with NA values.\n\n\nCode\nplot_missing(data, max_cols = 3, percent = FALSE) \n\n\n\n\n\n\n\n\n\nAnother visualization reveals the same pattern of the NA values. Approximately 6,000 rows have complete data across the columns, while around 1,600 rows have missing values in the Project Completion Date column.\n\n\nCode\nall_boroughs &lt;- unique(data$Project.Completion.Date)\n\nNA_grouping &lt;- data |&gt;\n  group_by(Borough) |&gt;\n  summarize(\n    num_rows = n(),\n    NA_num = sum(is.na(Project.Completion.Date)),\n    NA_percent = (NA_num / num_rows) * 100\n  )\n\nggplot(NA_grouping, aes(x = Borough, y = NA_percent, fill = Borough)) +\n  geom_bar(stat = \"identity\") +\n  labs(\n    title = \"Percentage of NA Values in Project Completion Date Column by Borough\",\n    x = \"Borough\",\n    y = \"Percentage of NA Values\"\n  )\n\n\n\n\n\n\n\n\n\nTo determine whether missing values in the Project.Completion.Date column are correlated with values of another variable, we analyzed the percentage of NA values by borough (Bronx, Brooklyn, Manhattan, Queens, and Staten Island). The results reveal that Queens marked the highest rate of NA values (approximately 32%) while Staten Island had the lowest proportion (approximately 2-3%). The rest of the boroughs marked approximately equal rate of NA values at around 20%. This analysis may highlight a clear geographic trend in the missing data, with Queens emerging as the most problematic borough with ongoing projects and Staten Island being the least affected with most of projects completed. It might also suggest that the number of projects varies significantly between boroughs.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "results.html",
    "href": "results.html",
    "title": "3  Results",
    "section": "",
<<<<<<< HEAD
    "text": "3.1 Housing Unit Type\nCode\nProportionData &lt;- data |&gt;\n  group_by(Start.Year) |&gt;\n  summarise(\n    \"Rental\" = sum(Counted.Rental.Units, na.rm = TRUE),\n    \"Homeownership\" = sum(Counted.Homeownership.Units, na.rm = TRUE)\n  )\n\nProportionData &lt;- ProportionData |&gt;\n  pivot_longer(\n    cols = c(\"Rental\", \"Homeownership\"),\n    names_to = \"Type\",\n    values_to = \"Value\"\n  )\n\nProportionData$Start.Year &lt;- as.numeric(ProportionData$Start.Year)\n\nggplot(ProportionData, aes(x = Start.Year, y = Value, color = Type)) +\n  geom_line(size = 1) + \n  geom_point(size = 2) + \n  scale_x_continuous(breaks = seq(2014, 2024, 1), limits = c(2014, 2024)) +\n  labs(\n    title = \"Time Series of Rental and Homeownership Units\",\n    x = \"Year\",\n    y = \"Number of Units\",\n    color = \"Type\"\n  ) +\n  theme_minimal() +\n  theme(legend.title = element_blank())\nThis figure displays the number of homeownership units (red line) and rental (blue line) units from 2014 to 2024. It reveals that the rental units outnumber homeownership units across all the time period covered by the dataset.\nRental units show a consistent upward trend from 2014 to 2018, where it reaches its peek at about 35,000 units. Following 2019, the number of rental units fluctuate with the steepest decrease in 2022 and 2024.\nSimilarly, homeownership units also display increasing trend from 2015 to 2018. After reaching its peak at about 18,000 units in 2020, it decreases significantly until 2022.\nBoth types of units decreasing significantly in 2021 and 2022 might suggest that the Covid-19 pandemic had a negative influence on these units.\nArticle: https://www.cssny.org/news/entry/nycha-pandemic-impacts-on-public-housing-residents\nCode\nProportionData &lt;- data |&gt;\n  group_by(Start.Year) |&gt;\n  summarise(\n    \"Rental\" = sum(Counted.Rental.Units, na.rm = TRUE),\n    \"Homeownership\" = sum(Counted.Homeownership.Units, na.rm = TRUE)\n  )\n\nProportionData &lt;- ProportionData |&gt;\n  pivot_longer(\n    cols = c(\"Rental\", \"Homeownership\"),\n    names_to = \"Type\",\n    values_to = \"Value\"\n  )\n\nProportionData &lt;- ProportionData |&gt;\n  group_by(Type) |&gt;\n  mutate(scaledVal = (Value - min(Value)) / (max(Value) - min(Value)))\n\nProportionData$Start.Year &lt;- as.numeric(ProportionData$Start.Year)\n\nggplot(ProportionData, aes(x = Start.Year, y = scaledVal, color = Type)) +\n  geom_line(size = 1) + \n  geom_point(size = 2) + \n  scale_x_continuous(breaks = seq(2014, 2024, 1), limits = c(2014, 2024)) +\n  labs(\n    title = \"Scaled Time Series of Rental and Homeownership Units\",\n    x = \"Year\",\n    y = \"Scaled Number of Units\",\n    color = \"Type\"\n  ) +\n  theme_minimal() +\n  theme(legend.title = element_blank())\nThis visualization is a standardized version of the figure above using uniminmax scaling to fit within the range of 0 and 1. It allows easier comparison between the relative trends of homeownership and rental units.\nBoth types of units follow the same pattern of increase or decrease from 2015 to 2023 despite the difference in their relative percentages. In general, the relative trends for rental units are higher compared to homeownership units across most of the observed period.\nCode\nProportionData &lt;- data |&gt;\n  filter(Start.Year &gt;= 2018 & Start.Year &lt;= 2022) |&gt;\n  mutate(Start.Month = as.numeric(Start.Month)) |&gt;\n  group_by(Start.Year, Start.Month) |&gt;\n  summarise(\n    \"Rental\" = sum(Counted.Rental.Units, na.rm = TRUE),\n    \"Homeownership\" = sum(Counted.Homeownership.Units, na.rm = TRUE),\n    .groups = \"drop\"\n  ) |&gt;\n  pivot_longer(\n    cols = c(\"Rental\", \"Homeownership\"),\n    names_to = \"Type\",\n    values_to = \"Value\"\n  ) |&gt;\n  arrange(Start.Year, Start.Month) |&gt;\n  group_by(Start.Year, Type) |&gt;\n  mutate(Cumulative_Value = cumsum(Value))\n\nggplot(ProportionData, aes(x = Start.Month, y = Cumulative_Value, color = as.factor(Start.Year), group = Start.Year)) +\n  geom_line(size = 1) +\n  geom_point(size = 2) +\n  scale_x_continuous(breaks = 1:12, labels = month.abb) +\n  labs(\n    title = \"CDF of Rental and Homeownership Units from 2018 to 2022\",\n    x = \"Month\",\n    y = \"Housing Units\",\n    color = \"Year\") +\n  facet_wrap(~ Type) + \n  theme_minimal() +\n  theme(\n    legend.position = \"bottom\",\n    axis.text.x = element_text(angle = 45, hjust = 1))\nThis graph depicts the CDF of rental and homeownership units from 2018 to 2022, highlighting monthly patterns during the period of steepest fluctuations. Consistent with the first figure, it shows that the rental units outnumber homeownership units.\nOver these five years, both homeownership and rental units usually experienced a rapid increase in cumulative units in June, except for 2020, which saw the highest increase in March. After the steep slope, the growth of homeownership units flattens for majority of the months while the rental units exhibits smaller monthly increments later in the year. The quarterly data update explains the significant increases in March, June, September, and December.\nCode\nconstructionData &lt;- constructionData |&gt;\n  filter(ProjectDuration != 0)\n\nggplot(constructionData, aes(x = ProjectDuration, y = Total.Units)) +\n  geom_point(size = 1, alpha = 0.2) +\n  facet_wrap(~ Borough) +\n  labs(\n    title = \"Scatterplot of Project Duration vs Total Housing Units by Borough\",\n    x = \"Project Duration (Days)\",\n    y = \"Total Units\"\n  ) +\n  theme_minimal()\nThis scatterplot examines the relationship between project duration (in days) and the total number of housing units for each construction project across the five boroughs. By visualizing these patterns, we aim to compare housing construction patterns and identify borough specific trends. As concluded from the previous figure, Staten Island recorded the fewest number of newly constructed units, preventing us from drawing meaningful conclusions for that borough. Across all boroughs, most construction projects ended within 1,000 days while a few extending between 1,000 days to 2,000 days.",
=======
    "text": "Code\ndata &lt;- read.csv(\"/Users/chaerinnoh/Desktop/Housing.csv\")\n\ndata &lt;- data |&gt; \n  select(\"Project.ID\", \"Project.Start.Date\", \"Project.Completion.Date\", \"Borough\", \"Community.Board\",\n         \"Extremely.Low.Income.Units\", \"Reporting.Construction.Type\", \"Very.Low.Income.Units\", \"Low.Income.Units\",\n         \"Moderate.Income.Units\", \"Middle.Income.Units\",\"Other.Income.Units\", \"Studio.Units\",\"X1.BR.Units\",\n         \"X2.BR.Units\", \"X3.BR.Units\", \"X4.BR.Units\", \"X5.BR.Units\", \"X6.BR..Units\", \"Counted.Rental.Units\",\n         \"Counted.Homeownership.Units\", \"Total.Units\")\n\ndata$\"Project.Start.Date\" &lt;- as.Date(data$\"Project.Start.Date\", format = \"%m/%d/%Y\")\ndata$\"Project.Completion.Date\" &lt;- as.Date(data$\"Project.Completion.Date\", format = \"%m/%d/%Y\")\ndata$Start.Year &lt;- format(data$\"Project.Start.Date\", \"%Y\")\ndata$Start.Month &lt;- format(data$\"Project.Start.Date\", \"%m\")\ndata$Start.Day &lt;- format(data$\"Project.Start.Date\", \"%d\")\ndata &lt;- data |&gt;\n  mutate(ProjectDuration = as.numeric(Project.Completion.Date - Project.Start.Date))\n\n\n\n\nCode\nincome_proportions &lt;- data |&gt;\n  select(Borough, Extremely.Low.Income.Units, \n         Very.Low.Income.Units, Low.Income.Units, Moderate.Income.Units,\n         Middle.Income.Units, Other.Income.Units) |&gt;\n  group_by(Borough) |&gt;\n  summarise(across(\n    Extremely.Low.Income.Units:Other.Income.Units,\n    ~ sum(.x, na.rm = TRUE)\n  )) |&gt;\n  mutate(TotalUnits = rowSums(across(Extremely.Low.Income.Units:Other.Income.Units))) |&gt;\n  mutate(across(\n    Extremely.Low.Income.Units:Other.Income.Units,\n    ~ .x / TotalUnits,\n    .names = \"Proportion_{.col}\"\n  )) |&gt;\n  pivot_longer(\n    cols = starts_with(\"Proportion\"),\n    names_to = \"IncomeType\",\n    values_to = \"Proportion\"\n  ) |&gt;\n  mutate(\n      IncomeType = gsub(\"Proportion_\", \"\", IncomeType),\n      IncomeType = fct_relevel(IncomeType, \"Extremely.Low.Income.Units\", \"Very.Low.Income.Units\",\n                               \"Low.Income.Units\",\n                               \"Moderate.Income.Units\", \"Middle.Income.Units\", \"Other.Income.Units\")\n    )\n\nincome_colors &lt;- c(\n  \"Extremely.Low.Income.Units\" = \"#fde0dd\",  \n  \"Very.Low.Income.Units\" = \"#fcc5c0\",     \n  \"Low.Income.Units\" = \"#fa9fb5\",       \n  \"Moderate.Income.Units\" = \"#f768a1\",    \n  \"Middle.Income.Units\" = \"#dd3497\",     \n  \"Other.Income.Units\" = \"#49006a\"          \n)\n\nggplot(income_proportions, aes(x = IncomeType, y = Proportion, fill = IncomeType)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  facet_wrap(~ Borough) +\n  scale_fill_manual(\n    values = income_colors,  \n    name = \"Income Type\"\n  ) +\n  scale_y_continuous(labels = scales::percent_format()) +\n  labs(\n    title = \"Income Proportions by Borough\",\n    x = \"Income Type\",\n    y = \"Proportion\",\n    fill = \"Income Type\"\n  ) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\n\nHere we look at the income proportions for each borough. Given that the dataset came from an affordable housing project, we can see that the proportions are high for very low income units and low income units for all boroughs. Bronx and Brooklyn show similar patterns, with a gradual increase of proportion from extremely low to low income types and a significant drop on moderate and the low proportion persists to the middle income units. Queens is also similar with the difference being that there are more propotions of moderate and middle income units. One standout observation is the overwhelming proportion of low income units in Staten Island, making up about 52%, with significantly smaller proportions in other income categories. In contrast, Manhattan has a more balanced distribution of income types, showing greater variability. This suggests that its housing developments aim to cater to a broader range of economic groups.\n\n\nCode\nggparcoord(data, columns=13:19, groupColumn=\"Borough\", alpha=0.3, scale='uniminmax',splineFactor=10, \n           title = \"Modified parallel coordinate plot for Housing Data\")\n\n\n\n\n\n\n\n\n\nWhile most of the lines are concentrated around lower values on the y-axis (near 0) we can see that 1BR and 2BR units are the most common housing types for all boroughs. This reflects their suitability for single-person households or small families, which make up a large proportion of NYC’s population. Across all boroughs, larger units are relatively rare, highlighting a gap in housing availability for larger families. Bronx, Brooklyn, and Staten Island show more variation and higher spikes in 3BR and larger units. Manhattan has a lot of outliers in where there are a small number of bedroom units.\n\n\nCode\nmanhattan_totals &lt;- data |&gt;\n  filter(Borough == \"Manhattan\") |&gt;\n  group_by(Community.Board) |&gt;\n  summarise(\n    TotalStudio = sum(Studio.Units, na.rm = TRUE),\n    Total1BR = sum(X1.BR.Units, na.rm = TRUE),\n    Total2BR = sum(X2.BR.Units, na.rm = TRUE),\n    Total3BR = sum(X3.BR.Units, na.rm = TRUE),\n    Total4BR = sum(X4.BR.Units, na.rm = TRUE),\n    Total5PlusBR = sum(X5.BR.Units, na.rm = TRUE)\n  )\n\nmanhattan_long &lt;- manhattan_totals |&gt;\n  pivot_longer(\n    cols = starts_with(\"Total\"),\n    names_to = \"BedroomType\",\n    values_to = \"Count\"\n  ) |&gt;\n  mutate(\n    BedroomType = fct_relevel(BedroomType, \n                              \"TotalStudio\", \n                              \"Total1BR\", \n                              \"Total2BR\", \n                              \"Total3BR\", \n                              \"Total4BR\", \n                              \"Total5PlusBR\")\n  )\n\nggplot(manhattan_long, aes(x = Community.Board, y = BedroomType, fill = Count)) +\n  geom_tile() +\n  scale_fill_gradient(low = \"white\", high = \"blue\") +\n  labs(\n    title = \"Heatmap of Bedroom Units by Manhattan Community Boards\",\n    x = \"Community Board\",\n    y = \"Bedroom Type\",\n    fill = \"Total Units\"\n  ) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\n\nhttps://www.nyc.gov/site/planning/plans/voids-central/voids-central.page\nThis graph shows the residential housing landscape in Manhattan. There are more number of smaller housing units (1BR and 2BR), reflecting the demand for housing suitable for individuals or small households. The concentration of units in District 11(MN-11) suggests that areas like East Harlem have been a focus for development, particularly for low- to moderate-income residents.\nOn the other hand, areas like District 1 and 2 (MN-01, MN-02) have fewer housing units overall, possibly due to the dominance of commercial spaces or high-income luxury housing that may not cater to smaller or affordable units. (reference to link which shows the central business districts). Fewer number of larger units (3BR and above) across the borough may indicate the challenges of accommodating larger families in Manhattan’s housing market.\n\n\nCode\nggplot(constructionGraphData, aes(x = Start.Year, y = proportionSum, color = Borough)) +\n  geom_line(size = 1) +\n  geom_point(size = 2) +\n  labs(\n    title = \"Time Series of Newly Constructed Units by Borough\",\n    x = \"Newly Constructed Units\",\n    y = \"Start Year\",\n    color = \"Borough\"\n  ) +\n  scale_x_continuous(breaks = seq(2014, 2024, 1), limits = c(2014, 2024)) +\n  theme_minimal() +\n  theme(legend.title = element_blank())\n\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n\n\n\n\n\n\n\n\n\nThis figure presents the annual number of newly constructed housing units across the five boroughs of New York, providing insights into the temporal and spatial distribution of housing development. It highlights boroughs with the highest number of new units and the decline in construction activity in the most recent years (post 2020). Overall, Brooklyn and Bronx consistently mark the highest levels of construction activity annually while Staten Island records the lowest.\n\n\nCode\nnewConstructionGraph$Start.Year &lt;- as.numeric(newConstructionGraph$Start.Year)\n\nggplot(newConstructionGraph, aes(x = Start.Year, y = Proportion, color = Borough)) +\n  geom_line(size = 1) +\n  geom_point(size = 2) +\n  facet_wrap(~ UnitType, scales = \"free_y\") +  \n  labs(\n    title = \"Time Series of Proportion of Newly Constructed Units by Borough and Unit Type\",\n    x = \"Start Year\",\n    y = \"Newly Constructed Units\",\n    color = \"Borough\"\n  ) +\n  scale_x_continuous(breaks = seq(2014, 2024, 1), limits = c(2014, 2024)) +\n  theme_minimal() +\n  theme(legend.title = element_blank()) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\n\nFocusing on the number of newly constructed units per unit type (studio, one bedroom, …, six or more bedrooms), the figure above breaks the previous graph into facets. The trend of Bronx and Brooklyn marking the highest construction activity and Staten Island having the lowest persist across all the unit types, implying that the proportion of newly constructed units are same across the five boroughs. Notably, no units with five or more bedrooms were newly constructed within the time period covered by the data.\n\n\nCode\nProportionData &lt;- data |&gt;\n  group_by(Start.Year) |&gt;\n  summarise(\n    \"Rental\" = sum(Counted.Rental.Units, na.rm = TRUE),\n    \"Homeownership\" = sum(Counted.Homeownership.Units, na.rm = TRUE)\n  )\n\nProportionData &lt;- ProportionData |&gt;\n  pivot_longer(\n    cols = c(\"Rental\", \"Homeownership\"),\n    names_to = \"Type\",\n    values_to = \"Value\"\n  )\n\nProportionData$Start.Year &lt;- as.numeric(ProportionData$Start.Year)\n\nggplot(ProportionData, aes(x = Start.Year, y = Value, color = Type)) +\n  geom_line(size = 1) + \n  geom_point(size = 2) + \n  scale_x_continuous(breaks = seq(2014, 2024, 1), limits = c(2014, 2024)) +\n  labs(\n    title = \"Time Series of Rental and Homeownership Units\",\n    x = \"Year\",\n    y = \"Number of Units\",\n    color = \"Type\"\n  ) +\n  theme_minimal() +\n  theme(legend.title = element_blank())\n\n\n\n\n\n\n\n\n\nThis figure displays the number of homeownership units (red line) and rental (blue line) units from 2014 to 2024. It reveals that the rental units outnumber homeownership units across all the time period covered by the dataset.\nRental units show a consistent upward trend from 2014 to 2018, where it reaches its peek at about 35,000 units. Following 2019, the number of rental units fluctuate with the steepest decrease in 2022 and 2024.\nSimilarly, homeownership units also display increasing trend from 2015 to 2018. After reaching its peak at about 18,000 units in 2020, it decreases significantly until 2022.\nBoth types of units decreasing significantly in 2021 and 2022 might suggest that the Covid-19 pandemic had a negative influence on these units.\nArticle: https://www.cssny.org/news/entry/nycha-pandemic-impacts-on-public-housing-residents\n\n\nCode\nProportionData &lt;- data |&gt;\n  group_by(Start.Year) |&gt;\n  summarise(\n    \"Rental\" = sum(Counted.Rental.Units, na.rm = TRUE),\n    \"Homeownership\" = sum(Counted.Homeownership.Units, na.rm = TRUE)\n  )\n\nProportionData &lt;- ProportionData |&gt;\n  pivot_longer(\n    cols = c(\"Rental\", \"Homeownership\"),\n    names_to = \"Type\",\n    values_to = \"Value\"\n  )\n\nProportionData &lt;- ProportionData |&gt;\n  group_by(Type) |&gt;\n  mutate(scaledVal = (Value - min(Value)) / (max(Value) - min(Value)))\n\nProportionData$Start.Year &lt;- as.numeric(ProportionData$Start.Year)\n\nggplot(ProportionData, aes(x = Start.Year, y = scaledVal, color = Type)) +\n  geom_line(size = 1) + \n  geom_point(size = 2) + \n  scale_x_continuous(breaks = seq(2014, 2024, 1), limits = c(2014, 2024)) +\n  labs(\n    title = \"Scaled Time Series of Rental and Homeownership Units\",\n    x = \"Year\",\n    y = \"Scaled Number of Units\",\n    color = \"Type\"\n  ) +\n  theme_minimal() +\n  theme(legend.title = element_blank())\n\n\n\n\n\n\n\n\n\nThis visualization is a standardized version of the figure above using uniminmax scaling to fit within the range of 0 and 1. It allows easier comparison between the relative trends of homeownership and rental units.\nBoth types of units follow the same pattern of increase or decrease from 2015 to 2023 despite the difference in their relative percentages. In general, the relative trends for rental units are higher compared to homeownership units across most of the observed period.\n\n\nCode\nProportionData &lt;- data |&gt;\n  filter(Start.Year &gt;= 2018 & Start.Year &lt;= 2022) |&gt;\n  mutate(Start.Month = as.numeric(Start.Month)) |&gt;\n  group_by(Start.Year, Start.Month) |&gt;\n  summarise(\n    \"Rental\" = sum(Counted.Rental.Units, na.rm = TRUE),\n    \"Homeownership\" = sum(Counted.Homeownership.Units, na.rm = TRUE),\n    .groups = \"drop\"\n  ) |&gt;\n  pivot_longer(\n    cols = c(\"Rental\", \"Homeownership\"),\n    names_to = \"Type\",\n    values_to = \"Value\"\n  ) |&gt;\n  arrange(Start.Year, Start.Month) |&gt;\n  group_by(Start.Year, Type) |&gt;\n  mutate(Cumulative_Value = cumsum(Value))\n\nggplot(ProportionData, aes(x = Start.Month, y = Cumulative_Value, color = as.factor(Start.Year), group = Start.Year)) +\n  geom_line(size = 1) +\n  geom_point(size = 2) +\n  scale_x_continuous(breaks = 1:12, labels = month.abb) +\n  labs(\n    title = \"CDF of Rental and Homeownership Units from 2018 to 2022\",\n    x = \"Month\",\n    y = \"Housing Units\",\n    color = \"Year\") +\n  facet_wrap(~ Type) + \n  theme_minimal() +\n  theme(\n    legend.position = \"bottom\",\n    axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\n\nThis graph depicts the CDF of rental and homeownership units from 2018 to 2022, highlighting monthly patterns during the period of steepest fluctuations. Consistent with the first figure, it shows that the rental units outnumber homeownership units.\nOver these five years, both homeownership and rental units usually experienced a rapid increase in cumulative units in June, except for 2020, which saw the highest increase in March. After the steep slope, the growth of homeownership units flattens for majority of the months while the rental units exhibits smaller monthly increments later in the year. The quarterly data update explains the significant increases in March, June, September, and December.\n\n\nCode\nmanhattan_map &lt;- nyc_shapefile |&gt;\n  filter(boro_cd %in% 101:112)\n\nmanhattan_totals &lt;- data |&gt;\n  filter(Borough == \"Manhattan\") |&gt;\n  group_by(Community.Board) |&gt;\n  summarise(\n    TotalExtremelyLowIncome = sum(Extremely.Low.Income.Units, na.rm = TRUE),\n    TotalVeryLowIncome = sum(Very.Low.Income.Units, na.rm = TRUE),\n    TotalLowIncome = sum(Low.Income.Units, na.rm = TRUE),\n    TotalModerateIncome = sum(Moderate.Income.Units, na.rm = TRUE),\n    TotalMiddleIncome = sum(Middle.Income.Units, na.rm = TRUE)\n  )\n\nmanhattan_totals &lt;- manhattan_totals |&gt;\n  mutate(\n    boro_cd = as.numeric(sub(\"MN-\", \"1\", Community.Board)) \n  )\n\nmanhattan_map_data &lt;- manhattan_map |&gt;\n  left_join(manhattan_totals, by = \"boro_cd\")\n\nggplot(manhattan_map_data) +\n  geom_sf(aes(fill = TotalExtremelyLowIncome)) +\n  scale_fill_gradient(low = \"white\", high = \"blue\") +\n  labs(\n    title = \"Heatmap of Extremely Low Income Units in Manhattan\",\n    fill = \"Units\"\n  ) +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1)\n  )\n\n\n\n\n\n\n\n\n\nReference: https://statisticalatlas.com/county-subdivision/New-York/New-York-County/Manhattan/Household-Income\nThis heatmap of extremely low-income units in Manhattan highlights the geographic disparities in affordable housing distribution. The darker shaded areas, such as District 11, which includes the neighborhoods of East Harlem and Randalls Island, have a higher concentration of extremely low-income units. In contrast, District 1, which encompasses the Financial District and Tribeca, shows a much smaller number of these units. According to reference data, the median household income in the Financial District and Tribeca (District 1) is $193,906, while East Harlem has a significantly lower median income of $37,468.\n\n\nCode\nincome_long &lt;- data |&gt;\n  pivot_longer(\n    cols = c(Extremely.Low.Income.Units, Very.Low.Income.Units, Low.Income.Units, \n             Moderate.Income.Units, Middle.Income.Units, Other.Income.Units),\n    names_to = \"Income.Unit\",\n    values_to = \"Proportion\"\n  )\n\nhighest_proportion &lt;- income_long |&gt;\n  group_by(Community.Board) |&gt;\n  summarise(\n    Max_Proportion = max(Proportion, na.rm = TRUE),\n    Income_Unit = Income.Unit[which.max(Proportion)]\n  )\n\nnyc_shapefile &lt;- nyc_shapefile |&gt;\n  mutate(\n    Community.Board = case_when(\n      boro_cd &gt;= 101 & boro_cd &lt;= 112 ~ paste0(\"MN-\", sprintf(\"%02d\", boro_cd - 100)), \n      boro_cd &gt;= 201 & boro_cd &lt;= 212 ~ paste0(\"BX-\", sprintf(\"%02d\", boro_cd - 200)), \n      boro_cd &gt;= 301 & boro_cd &lt;= 318 ~ paste0(\"BK-\", sprintf(\"%02d\", boro_cd - 300)), \n      boro_cd &gt;= 401 & boro_cd &lt;= 414 ~ paste0(\"QN-\", sprintf(\"%02d\", boro_cd - 400)), \n      boro_cd &gt;= 501 & boro_cd &lt;= 503 ~ paste0(\"SI-\", sprintf(\"%02d\", boro_cd - 500)), \n      TRUE ~ NA_character_\n    )\n  )\n\nmerged_data &lt;- nyc_shapefile |&gt;\n  left_join(highest_proportion, by = \"Community.Board\")\n\n\nggplot(merged_data) +\n  geom_sf(aes(fill = Income_Unit), color = \"black\", size = 0.1) +  \n  scale_fill_manual(\n    values = c(\n  \"Extremely.Low.Income.Units\" = \"#fde0dd\",  \n  \"Very.Low.Income.Units\" = \"#fbb4b9\",      \n  \"Low.Income.Units\" = \"#f768a1\",      \n  \"Moderate.Income.Units\" = \"#c51b8a\",   \n  \"Middle.Income.Units\" = \"#7a0177\",      \n  \"Other.Income.Units\" = \"#49006a\"          \n),\n    name = \"Income Unit\",\n    limits = c(  \n      \"Extremely.Low.Income.Units\",\n      \"Very.Low.Income.Units\",\n      \"Low.Income.Units\",\n      \"Moderate.Income.Units\",\n      \"Middle.Income.Units\",\n      \"Other.Income.Units\"\n    )\n  ) +\n  labs(\n    title = \"NYC Community Districts by Dominant Income Unit\",\n    subtitle = \"District colored by highest proportion of income unit\",\n  ) +\n  theme_minimal() +\n  theme(\n    legend.position = \"right\",  \n    legend.title = element_text(size = 12),  \n    legend.text = element_text(size = 10),  \n    plot.title = element_text(hjust = 0.5, size = 16),  \n    plot.subtitle = element_text(hjust = 0.5, size = 12),  \n    axis.text.x = element_text(angle = 45, hjust = 1)  \n  )\n\n\n\n\n\n\n\n\n\nEach district is colored based on its dominant income unit category, showing housing trends across NYC. Many districts are dominated by “Extremely.Low.Income.Units” and “Very.Low.Income.Units”. The clear differences between neighborhoods reveal housing inequalities, with lower-income units concentrated in certain areas. These difference points to broader economic disparities that affect access to housing for different income groups.\n\n\nCode\nconstructionData &lt;- constructionData |&gt;\n  filter(ProjectDuration != 0)\n\nggplot(constructionData, aes(x = ProjectDuration, y = Total.Units)) +\n  geom_point(size = 1, alpha = 0.2) +\n  facet_wrap(~ Borough) +\n  labs(\n    title = \"Scatterplot of Project Duration vs Total Housing Units by Borough\",\n    x = \"Project Duration (Days)\",\n    y = \"Total Units\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nThis scatterplot examines the relationship between project duration (in days) and the total number of housing units for each construction project across the five boroughs. By visualizing these patterns, we aim to compare housing construction patterns and identify borough specific trends. As concluded from the previous figure, Staten Island recorded the fewest number of newly constructed units, preventing us from drawing meaningful conclusions for that borough. Across all boroughs, most construction projects ended within 1,000 days while a few extending between 1,000 days to 2,000 days.",
>>>>>>> origin/finalRevision
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "d3graph.html",
    "href": "d3graph.html",
    "title": "4  Interactive graph",
    "section": "",
    "text": "Quiz: Predict the Number of Newly Constructed Units in the Five Boroughs of New York!\n\n\n\n\nPress the button for the borough you want to predict!\n\n\n\n\nBronx\n\n\nBrooklyn\n\n\nManhattan\n\n\nQueens\n\n\nStaten Island\n\n\n\n\nWhen predicting the next point, you only need to focus on the y-axis to determine its position. The x-axis is already predefined and does not require adjustment.\n\n\n\n\n\nShow How I Did\n\n\n\n\nClick the button to compare between your prediction (shown in red) and real data (shown in black). You may click this button only after you plot your predictions!",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Interactive graph</span>"
    ]
  },
  {
    "objectID": "conclusion.html",
    "href": "conclusion.html",
    "title": "5  Conclusion",
    "section": "",
    "text": "5.1 Main Takeaways",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Conclusion</span>"
    ]
  },
  {
    "objectID": "conclusion.html#main-takeaways",
    "href": "conclusion.html#main-takeaways",
    "title": "5  Conclusion",
    "section": "",
    "text": "1BR and 2BR units are the most common housing types across all boroughs, reflecting their suitability for smaller households, such as individuals or small family households, that make up a large proportion of NYC’s population.\nThere is a significant portion on Very Low-Income and Low-Income Units across boroughs, highlighting the city’s efforts to address housing affordability for economically disadvantaged populations.\nExtremely Low-Income Units make up a smaller proportion across all boroughs, suggesting that New York City may not be adequately addressing the housing needs of its most vulnerable residents.\nAmong the five boroughs of New York, Bronx and Brooklyn marked the highest number of newly constructed units from 2014 to 2024. The larger land areas compared to other boroughs may have significantly contributed in facilitating greater housing development.\nHomeownership and rental units follow a similar pattern of rise and decline despite differences in their relative percentages, suggesting a strong positive correlation among the two types of housing units.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Conclusion</span>"
    ]
  },
  {
    "objectID": "conclusion.html#limiatations",
    "href": "conclusion.html#limiatations",
    "title": "5  Conclusion",
    "section": "5.2 Limiatations",
    "text": "5.2 Limiatations\nThe data focuses on housing tied to an affordable housing project, which may not represent the whole NYC’s housing market or include privately developed or market-rate housings. In addition, the graphs do not account for variations in household size, income level, or demographics, which are factors that can influence housing demand for specific unit types. Borough comparisons may oversimplify the unique socioeconomic and geographic factors influencing housing distributions within each borough.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Conclusion</span>"
    ]
  },
  {
    "objectID": "conclusion.html#future-directions",
    "href": "conclusion.html#future-directions",
    "title": "5  Conclusion",
    "section": "5.3 Future Directions",
    "text": "5.3 Future Directions\nIn the future, we can include market-rate housing data to get a more comprehensive understanding of New York City’s housing landscape. Additionally, adding information on income levels, household size, and demographics would enable a more detailed exploration. For a deeper analysis, we could go beyond borough-level trends to neighborhoods or community districts for a more localized perspective. Furthermore, examining the impact of gentrification and displacement on housing availability and affordability across boroughs would offer valuable insights.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Conclusion</span>"
    ]
  },
  {
    "objectID": "conclusion.html#lessons-learned",
    "href": "conclusion.html#lessons-learned",
    "title": "5  Conclusion",
    "section": "5.4 Lessons Learned",
    "text": "5.4 Lessons Learned\nDuring the project, we realized the importance of regularly backing up files and keeping our workflow updated on GitHub. At one point, we accidentally saved an incorrect version of the file, which could have required us to spend time reproducing the lost code. Fortunately, GitHub allowed us to successfully restart from the previous checkpoint, saving both time and effort.\nIn addition, when working with the map of NYC (shapefile) and our data, we had difficulties linking the community districts because the labeling conventions were different. The map used numeric labels (e.g., 101-112), while our dataset used alphanumeric labels (e.g., MN-01). This mismatch made it challenging to align the two datasets and required additional steps to create a mapping between them. Through this experience, we learned the importance of using clear, consistent, and well-documented labeling systems when preparing datasets. By specifying the labeling conventions and including guides, we can make our data more accessible and user-friendly for others who may work with it in the future.",

    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Conclusion</span>"
    ]
  },
  {
    "objectID": "results.html#housing-unit-structure-type",
    "href": "results.html#housing-unit-structure-type",
    "title": "3  Results",
    "section": "3.2 Housing Unit Structure Type",
    "text": "3.2 Housing Unit Structure Type\n\n\nCode\nggparcoord(data, columns=13:19, groupColumn=\"Borough\", alpha=0.3, scale='uniminmax',splineFactor=10, \n           title = \"Modified parallel coordinate plot for Housing Data\")\n\n\n\n\n\n\n\n\n\nWhile most of the lines are concentrated around lower values on the y-axis (near 0) we can see that 1BR and 2BR units are the most common housing types for all boroughs. This reflects their suitability for single-person households or small families, which make up a large proportion of NYC’s population. Across all boroughs, larger units are relatively rare, highlighting a gap in housing availability for larger families. Bronx, Brooklyn, and Staten Island show more variation and higher spikes in 3BR and larger units. Manhattan has a lot of outliers in where there are a small number of bedroom units.\n\n\nCode\nmanhattan_totals &lt;- data |&gt;\n  filter(Borough == \"Manhattan\") |&gt;\n  group_by(Community.Board) |&gt;\n  summarise(\n    TotalStudio = sum(Studio.Units, na.rm = TRUE),\n    Total1BR = sum(X1.BR.Units, na.rm = TRUE),\n    Total2BR = sum(X2.BR.Units, na.rm = TRUE),\n    Total3BR = sum(X3.BR.Units, na.rm = TRUE),\n    Total4BR = sum(X4.BR.Units, na.rm = TRUE),\n    Total5PlusBR = sum(X5.BR.Units, na.rm = TRUE)\n  )\n\nmanhattan_long &lt;- manhattan_totals |&gt;\n  pivot_longer(\n    cols = starts_with(\"Total\"),\n    names_to = \"BedroomType\",\n    values_to = \"Count\"\n  ) |&gt;\n  mutate(\n    BedroomType = fct_relevel(BedroomType, \n                              \"TotalStudio\", \n                              \"Total1BR\", \n                              \"Total2BR\", \n                              \"Total3BR\", \n                              \"Total4BR\", \n                              \"Total5PlusBR\")\n  )\n\nggplot(manhattan_long, aes(x = Community.Board, y = BedroomType, fill = Count)) +\n  geom_tile() +\n  scale_fill_gradient(low = \"white\", high = \"blue\") +\n  labs(\n    title = \"Heatmap of Bedroom Units by Manhattan Community Boards\",\n    x = \"Community Board\",\n    y = \"Bedroom Type\",\n    fill = \"Total Units\"\n  ) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\n\nhttps://www.nyc.gov/site/planning/plans/voids-central/voids-central.page\nThis graph shows the residential housing landscape in Manhattan. There are more number of smaller housing units (1BR and 2BR), reflecting the demand for housing suitable for individuals or small households. The concentration of units in District 11(MN-11) suggests that areas like East Harlem have been a focus for development, particularly for low- to moderate-income residents.\nOn the other hand, areas like District 1 and 2 (MN-01, MN-02) have fewer housing units overall, possibly due to the dominance of commercial spaces or high-income luxury housing that may not cater to smaller or affordable units. (reference to link which shows the central business districts). Fewer number of larger units (3BR and above) across the borough may indicate the challenges of accommodating larger families in Manhattan’s housing market.\n\n\nCode\nggplot(constructionGraphData, aes(x = Start.Year, y = proportionSum, color = Borough)) +\n  geom_line(size = 1) +\n  geom_point(size = 2) +\n  labs(\n    title = \"Time Series of Newly Constructed Units by Borough\",\n    x = \"Newly Constructed Units\",\n    y = \"Start Year\",\n    color = \"Borough\"\n  ) +\n  scale_x_continuous(breaks = seq(2014, 2024, 1), limits = c(2014, 2024)) +\n  theme_minimal() +\n  theme(legend.title = element_blank())\n\n\n\n\n\n\n\n\n\nThis figure presents the annual number of newly constructed housing units across the five boroughs of New York, providing insights into the temporal and spatial distribution of housing development. It highlights boroughs with the highest number of new units and the decline in construction activity in the most recent years (post 2020). Overall, Brooklyn and Bronx consistently mark the highest levels of construction activity annually while Staten Island records the lowest.\n\n\nCode\nnewConstructionGraph$Start.Year &lt;- as.numeric(newConstructionGraph$Start.Year)\n\nggplot(newConstructionGraph, aes(x = Start.Year, y = Proportion, color = Borough)) +\n  geom_line(size = 1) +\n  geom_point(size = 2) +\n  facet_wrap(~ UnitType, scales = \"free_y\") +  \n  labs(\n    title = \"Time Series of Proportion of Newly Constructed Units by Borough and Unit Type\",\n    x = \"Start Year\",\n    y = \"Newly Constructed Units\",\n    color = \"Borough\"\n  ) +\n  scale_x_continuous(breaks = seq(2014, 2024, 1), limits = c(2014, 2024)) +\n  theme_minimal() +\n  theme(legend.title = element_blank()) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\n\nFocusing on the number of newly constructed units per unit type (studio, one bedroom, …, six or more bedrooms), the figure above breaks the previous graph into facets. The trend of Bronx and Brooklyn marking the highest construction activity and Staten Island having the lowest persist across all the unit types, implying that the proportion of newly constructed units are same across the five boroughs. Notably, no units with five or more bedrooms were newly constructed within the time period covered by the data.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#income-type",
    "href": "results.html#income-type",
    "title": "3  Results",
    "section": "3.3 Income Type",
    "text": "3.3 Income Type\n\n\nCode\nincome_proportions &lt;- data |&gt;\n  select(Borough, Extremely.Low.Income.Units, \n         Very.Low.Income.Units, Low.Income.Units, Moderate.Income.Units,\n         Middle.Income.Units, Other.Income.Units) |&gt;\n  group_by(Borough) |&gt;\n  summarise(across(\n    Extremely.Low.Income.Units:Other.Income.Units,\n    ~ sum(.x, na.rm = TRUE)\n  )) |&gt;\n  mutate(TotalUnits = rowSums(across(Extremely.Low.Income.Units:Other.Income.Units))) |&gt;\n  mutate(across(\n    Extremely.Low.Income.Units:Other.Income.Units,\n    ~ .x / TotalUnits,\n    .names = \"Proportion_{.col}\"\n  )) |&gt;\n  pivot_longer(\n    cols = starts_with(\"Proportion\"),\n    names_to = \"IncomeType\",\n    values_to = \"Proportion\"\n  ) |&gt;\n  mutate(\n      IncomeType = gsub(\"Proportion_\", \"\", IncomeType),\n      IncomeType = fct_relevel(IncomeType, \"Extremely.Low.Income.Units\", \"Very.Low.Income.Units\",\n                               \"Low.Income.Units\",\n                               \"Moderate.Income.Units\", \"Middle.Income.Units\", \"Other.Income.Units\")\n    )\n\nincome_colors &lt;- c(\n  \"Extremely.Low.Income.Units\" = \"#fde0dd\",  \n  \"Very.Low.Income.Units\" = \"#fcc5c0\",     \n  \"Low.Income.Units\" = \"#fa9fb5\",       \n  \"Moderate.Income.Units\" = \"#f768a1\",    \n  \"Middle.Income.Units\" = \"#dd3497\",     \n  \"Other.Income.Units\" = \"#49006a\"          \n)\n\nggplot(income_proportions, aes(x = IncomeType, y = Proportion, fill = IncomeType)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  facet_wrap(~ Borough) +\n  scale_fill_manual(\n    values = income_colors,  \n    name = \"Income Type\"\n  ) +\n  scale_y_continuous(labels = scales::percent_format()) +\n  labs(\n    title = \"Income Proportions by Borough\",\n    x = \"Income Type\",\n    y = \"Proportion\",\n    fill = \"Income Type\"\n  ) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\n\nHere we look at the income proportions for each borough. Given that the dataset came from an affordable housing project, we can see that the proportions are high for very low income units and low income units for all boroughs. Bronx and Brooklyn show similar patterns, with a gradual increase of proportion from extremely low to low income types and a significant drop on moderate and the low proportion persists to the middle income units. Queens is also similar with the difference being that there are more propotions of moderate and middle income units. One standout observation is the overwhelming proportion of low income units in Staten Island, making up about 52%, with significantly smaller proportions in other income categories. In contrast, Manhattan has a more balanced distribution of income types, showing greater variability. This suggests that its housing developments aim to cater to a broader range of economic groups.\n\n\nCode\nmanhattan_map &lt;- nyc_shapefile |&gt;\n  filter(boro_cd %in% 101:112)\n\nmanhattan_totals &lt;- data |&gt;\n  filter(Borough == \"Manhattan\") |&gt;\n  group_by(Community.Board) |&gt;\n  summarise(\n    TotalExtremelyLowIncome = sum(Extremely.Low.Income.Units, na.rm = TRUE),\n    TotalVeryLowIncome = sum(Very.Low.Income.Units, na.rm = TRUE),\n    TotalLowIncome = sum(Low.Income.Units, na.rm = TRUE),\n    TotalModerateIncome = sum(Moderate.Income.Units, na.rm = TRUE),\n    TotalMiddleIncome = sum(Middle.Income.Units, na.rm = TRUE)\n  )\n\nmanhattan_totals &lt;- manhattan_totals |&gt;\n  mutate(\n    boro_cd = as.numeric(sub(\"MN-\", \"1\", Community.Board)) \n  )\n\nmanhattan_map_data &lt;- manhattan_map |&gt;\n  left_join(manhattan_totals, by = \"boro_cd\")\n\nggplot(manhattan_map_data) +\n  geom_sf(aes(fill = TotalExtremelyLowIncome)) +\n  scale_fill_gradient(low = \"white\", high = \"blue\") +\n  labs(\n    title = \"Heatmap of Extremely Low Income Units in Manhattan\",\n    fill = \"Units\"\n  ) +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1)\n  )\n\n\n\n\n\n\n\n\n\nReference: https://statisticalatlas.com/county-subdivision/New-York/New-York-County/Manhattan/Household-Income\nThis heatmap of extremely low-income units in Manhattan highlights the geographic disparities in affordable housing distribution. The darker shaded areas, such as District 11, which includes the neighborhoods of East Harlem and Randalls Island, have a higher concentration of extremely low-income units. In contrast, District 1, which encompasses the Financial District and Tribeca, shows a much smaller number of these units. According to reference data, the median household income in the Financial District and Tribeca (District 1) is $193,906, while East Harlem has a significantly lower median income of $37,468.\n\n\nCode\nincome_long &lt;- data |&gt;\n  pivot_longer(\n    cols = c(Extremely.Low.Income.Units, Very.Low.Income.Units, Low.Income.Units, \n             Moderate.Income.Units, Middle.Income.Units, Other.Income.Units),\n    names_to = \"Income.Unit\",\n    values_to = \"Proportion\"\n  )\n\nhighest_proportion &lt;- income_long |&gt;\n  group_by(Community.Board) |&gt;\n  summarise(\n    Max_Proportion = max(Proportion, na.rm = TRUE),\n    Income_Unit = Income.Unit[which.max(Proportion)]\n  )\n\nnyc_shapefile &lt;- nyc_shapefile |&gt;\n  mutate(\n    Community.Board = case_when(\n      boro_cd &gt;= 101 & boro_cd &lt;= 112 ~ paste0(\"MN-\", sprintf(\"%02d\", boro_cd - 100)), \n      boro_cd &gt;= 201 & boro_cd &lt;= 212 ~ paste0(\"BX-\", sprintf(\"%02d\", boro_cd - 200)), \n      boro_cd &gt;= 301 & boro_cd &lt;= 318 ~ paste0(\"BK-\", sprintf(\"%02d\", boro_cd - 300)), \n      boro_cd &gt;= 401 & boro_cd &lt;= 414 ~ paste0(\"QN-\", sprintf(\"%02d\", boro_cd - 400)), \n      boro_cd &gt;= 501 & boro_cd &lt;= 503 ~ paste0(\"SI-\", sprintf(\"%02d\", boro_cd - 500)), \n      TRUE ~ NA_character_\n    )\n  )\n\nmerged_data &lt;- nyc_shapefile |&gt;\n  left_join(highest_proportion, by = \"Community.Board\")\n\n\nggplot(merged_data) +\n  geom_sf(aes(fill = Income_Unit), color = \"black\", size = 0.1) +  \n  scale_fill_manual(\n    values = c(\n  \"Extremely.Low.Income.Units\" = \"#fde0dd\",  \n  \"Very.Low.Income.Units\" = \"#fbb4b9\",      \n  \"Low.Income.Units\" = \"#f768a1\",      \n  \"Moderate.Income.Units\" = \"#c51b8a\",   \n  \"Middle.Income.Units\" = \"#7a0177\",      \n  \"Other.Income.Units\" = \"#49006a\"          \n),\n    name = \"Income Unit\",\n    limits = c(  \n      \"Extremely.Low.Income.Units\",\n      \"Very.Low.Income.Units\",\n      \"Low.Income.Units\",\n      \"Moderate.Income.Units\",\n      \"Middle.Income.Units\",\n      \"Other.Income.Units\"\n    )\n  ) +\n  labs(\n    title = \"NYC Community Districts by Dominant Income Unit\",\n    subtitle = \"District colored by highest proportion of income unit\",\n  ) +\n  theme_minimal() +\n  theme(\n    legend.position = \"right\",  \n    legend.title = element_text(size = 12),  \n    legend.text = element_text(size = 10),  \n    plot.title = element_text(hjust = 0.5, size = 16),  \n    plot.subtitle = element_text(hjust = 0.5, size = 12),  \n    axis.text.x = element_text(angle = 45, hjust = 1)  \n  )\n\n\n\n\n\n\n\n\n\nEach district is colored based on its dominant income unit category, showing housing trends across NYC. Many districts are dominated by “Extremely.Low.Income.Units” and “Very.Low.Income.Units”. The clear differences between neighborhoods reveal housing inequalities, with lower-income units concentrated in certain areas. These difference points to broader economic disparities that affect access to housing for different income groups.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  }
]